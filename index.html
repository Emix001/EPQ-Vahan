<!DOCTYPE html>
<html lang="hy">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
    <title>Kargin Nyuton</title>
    <meta name="theme-color" content="#1e40af">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Kargin Nyuton">
    <link rel="icon" type="image/png" href="assets/Xndzor.png">
    <link rel="apple-touch-icon" href="assets/Xndzor.png">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: "Segoe UI", "Noto Sans Armenian", -apple-system, BlinkMacSystemFont, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
            background-attachment: fixed;
            color: #1f2937;
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }

        body::before {
            content: "";
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at 20% 50%, rgba(255, 255, 255, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 80%, rgba(255, 255, 255, 0.1) 0%, transparent 50%);
            pointer-events: none;
            z-index: 0;
        }

        @keyframes float {

            0%,
            100% {
                transform: translateY(0px);
            }

            50% {
                transform: translateY(-20px);
            }
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 1rem;
            position: relative;
            z-index: 1;
        }

        header {
            text-align: center;
            padding: 2rem 1rem;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            border-radius: 0 0 2rem 2rem;
            margin-bottom: 2rem;
        }

        header img {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            box-shadow: 0 8px 32px rgba(99, 102, 241, 0.4);
            margin-bottom: 1rem;
            animation: float 3s ease-in-out infinite;
            border: 4px solid #fff;
        }

        h1 {
            font-size: 2rem;
            font-weight: 800;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 0.5rem;
        }

        .subtitle {
            color: #6b7280;
            font-size: 1rem;
            font-weight: 500;
        }

        main {
            padding: 1.5rem 0;
            min-height: 60vh;
        }

        .intro-text {
            font-size: 1.125rem;
            line-height: 1.75;
            color: #fff;
            text-align: center;
            max-width: 600px;
            margin: 0 auto 2rem;
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(10px);
            padding: 1.5rem;
            border-radius: 1.5rem;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            font-weight: 500;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .button-group {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            max-width: 400px;
            margin: 0 auto 2rem;
            padding: 0 1rem;
        }

        button {
            padding: 1.25rem 2rem;
            font-size: 1.125rem;
            font-weight: 700;
            color: #fff;
            border: none;
            border-radius: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            font-family: inherit;
            position: relative;
            overflow: hidden;
        }

        button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: left 0.5s;
        }

        button:hover::before {
            left: 100%;
        }

        button:active {
            transform: scale(0.98);
        }

        .start-btn {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
        }

        .start-btn:hover {
            box-shadow: 0 6px 25px rgba(16, 185, 129, 0.4);
            transform: translateY(-2px);
        }

        .fact-btn {
            background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
        }

        .fact-btn:hover {
            box-shadow: 0 6px 25px rgba(245, 158, 11, 0.4);
            transform: translateY(-2px);
        }

        .quiz-btn {
            background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
            margin: 0.75rem 0;
        }

        .quiz-btn:hover {
            box-shadow: 0 6px 25px rgba(59, 130, 246, 0.4);
            transform: translateY(-2px);
        }

        .quiz-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        #quiz {
            display: none;
            max-width: 700px;
            margin: 2rem auto;
            padding: 2rem;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 2rem;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.15);
            animation: fadeIn 0.5s ease;
        }

        #quiz-question {
            font-size: 1.25rem;
            font-weight: 700;
            color: #1f2937;
            margin-bottom: 1.5rem;
            line-height: 1.6;
            text-align: center;
        }

        #quiz-options {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        #fact-display {
            display: none;
            max-width: 700px;
            margin: 2rem auto;
            padding: 2rem;
            font-size: 1.25rem;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 2rem;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.15);
            color: #1f2937;
            text-align: center;
            line-height: 1.8;
            font-weight: 500;
            animation: fadeIn 0.6s ease;
        }

        video {
            width: 100%;
            max-width: 700px;
            border-radius: 1.5rem;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
            margin: 2rem auto;
            display: block;
        }

        #comments-section {
            max-width: 800px;
            margin: 3rem auto 2rem;
            padding: 2rem;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 2rem;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.15);
            animation: fadeIn 0.6s ease;
        }

        #comments-section h2 {
            font-size: 2rem;
            font-weight: 800;
            text-align: center;
            margin-bottom: 2rem;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .comment-form {
            margin-bottom: 2.5rem;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            color: #374151;
            font-weight: 700;
            font-size: 1rem;
        }

        .form-group input,
        .form-group textarea {
            width: 100%;
            padding: 1rem 1.25rem;
            background: #f9fafb;
            border: 2px solid #e5e7eb;
            border-radius: 1rem;
            color: #1f2937;
            font-size: 1rem;
            font-family: inherit;
            transition: all 0.3s ease;
        }

        .form-group input:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #667eea;
            background: #fff;
            box-shadow: 0 0 0 4px rgba(102, 126, 234, 0.1);
        }

        .form-group textarea {
            min-height: 120px;
            resize: vertical;
            line-height: 1.6;
        }

        .submit-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            width: 100%;
            max-width: 300px;
            margin: 0 auto;
            display: block;
        }

        .submit-btn:hover {
            box-shadow: 0 6px 25px rgba(102, 126, 234, 0.4);
            transform: translateY(-2px);
        }

        #comments-list {
            margin-top: 2rem;
        }

        .comment-card {
            background: linear-gradient(135deg, #f9fafb 0%, #fff 100%);
            border-left: 4px solid #667eea;
            border-radius: 1rem;
            padding: 1.5rem;
            margin-bottom: 1.25rem;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
            transition: all 0.3s ease;
            animation: fadeIn 0.5s ease;
        }

        .comment-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.2);
        }

        .comment-author {
            font-size: 1.125rem;
            font-weight: 700;
            color: #667eea;
            margin-bottom: 0.5rem;
        }

        .comment-date {
            font-size: 0.875rem;
            color: #9ca3af;
            margin-bottom: 0.75rem;
        }

        .comment-text {
            color: #4b5563;
            line-height: 1.7;
            font-size: 1rem;
            word-wrap: break-word;
            margin-bottom: 0.75rem;
        }

        .comment-actions {
            display: flex;
            justify-content: flex-end;
            margin-top: 0.75rem;
        }

        .delete-btn {
            padding: 0.5rem 1rem;
            font-size: 0.875rem;
            font-weight: 600;
            color: #fff;
            background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
            border: none;
            border-radius: 0.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 2px 8px rgba(239, 68, 68, 0.3);
        }

        .delete-btn:hover {
            box-shadow: 0 4px 15px rgba(239, 68, 68, 0.5);
            transform: translateY(-2px);
        }

        .delete-btn:active {
            transform: scale(0.98);
        }

        .empty-state {
            text-align: center;
            padding: 3rem 1rem;
            color: #9ca3af;
        }

        .empty-state-icon {
            font-size: 4rem;
            margin-bottom: 1rem;
            animation: float 3s ease-in-out infinite;
        }

        .empty-state-text {
            font-size: 1.125rem;
            font-weight: 500;
            color: #6b7280;
        }

        footer {
            text-align: center;
            padding: 2rem 1rem;
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            margin-top: 3rem;
            font-size: 0.875rem;
            color: #6b7280;
            border-top: 2px solid rgba(102, 126, 234, 0.2);
        }

        #welcome-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 9999;
            transition: opacity 1s ease;
        }

        #welcome-screen.hidden {
            opacity: 0;
            pointer-events: none;
        }

        .welcome-content {
            text-align: center;
            animation: fadeIn 1s ease;
        }

        .welcome-content img {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            margin-bottom: 2rem;
            animation: float 3s ease-in-out infinite;
            border: 5px solid rgba(255, 255, 255, 0.9);
        }

        .welcome-title {
            font-size: 3rem;
            font-weight: 900;
            color: #fff;
            margin-bottom: 1rem;
            text-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
        }

        .welcome-subtitle {
            font-size: 1.5rem;
            color: rgba(255, 255, 255, 0.95);
            font-weight: 600;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .main-content {
            display: none;
        }

        .main-content.active {
            display: block;
        }

        @media (max-width: 640px) {
            h1 {
                font-size: 1.75rem;
            }

            .welcome-title {
                font-size: 2rem;
            }

            .welcome-subtitle {
                font-size: 1.125rem;
            }

            .welcome-content img {
                width: 120px;
                height: 120px;
            }

            header img {
                width: 80px;
                height: 80px;
            }

            .intro-text {
                font-size: 1rem;
                padding: 1.25rem;
            }

            button {
                padding: 1rem 1.5rem;
                font-size: 1rem;
            }

            #quiz {
                padding: 1.5rem;
                margin: 1.5rem 1rem;
            }

            #quiz-question {
                font-size: 1.125rem;
            }

            #fact-display {
                padding: 1.5rem;
                margin: 1.5rem 1rem;
                font-size: 1.125rem;
            }

            #comments-section {
                padding: 1.5rem;
                margin: 2rem 1rem;
            }

            #comments-section h2 {
                font-size: 1.5rem;
            }

            .comment-card {
                padding: 1.25rem;
            }

            .form-group input,
            .form-group textarea {
                padding: 0.875rem 1rem;
            }

            video {
                border-radius: 1rem;
            }
        }

        @media (max-width: 480px) {
            .container {
                padding: 0 0.75rem;
            }

            header {
                padding: 1.5rem 1rem;
                border-radius: 0 0 1.5rem 1.5rem;
            }

            .button-group {
                padding: 0;
            }
        }
    </style>
</head>

<body>
    <div id="welcome-screen">
        <div class="welcome-content">
            <img src="assets/Xndzor.png" alt="Kargin Nyuton">
            <h1 class="welcome-title">‘≤’°÷Ä’´ ‘≥’°’¨’∏÷Ç’Ω’ø</h1>
            <p class="welcome-subtitle">Kargin Nyuton ‘ø’°’µ÷Ñ</p>
        </div>
    </div>

    <div class="main-content">
        <div class="container">
            <header>
                <img src="assets/Xndzor.png" alt="Kargin Nyuton" onclick="playMtiVideo()" style="cursor: pointer;">
                <h1>Kargin Nyuton</h1>
                <p class="subtitle">’ñ’´’¶’´’Ø’°’µ’´ ’∞’•’ø’°÷Ñ÷Ä÷Ñ’´÷Ä ’°’∑’≠’°÷Ä’∞</p>
            </header>

            <main>
                <p class="intro-text">
                    ‘≤’°÷Ä’´ ’£’°’¨’∏÷Ç’Ω’ø ¬´Kargin Nyuton¬ª÷â ’ç’∏’æ’∏÷Ä’´÷Ä ÷Ü’´’¶’´’Ø’°’µ’´ ’£’°’≤’ø’∂’´÷Ñ’∂’•÷Ä’®’ù ’≠’°’≤’•÷Ä’´ ÷á ’∞’•’ø’°÷Ñ÷Ä÷Ñ’´÷Ä ÷É’°’Ω’ø’•÷Ä’´ ’¥’´’ª’∏÷Å’∏’æ üöÄ‚ö°
                </p>

                <div class="button-group">
                    <button class="start-btn" onclick="playIntro()">üéÆ ’ç’Ø’Ω’•’¨ ’≠’°’≤’®</button>
                    <button class="fact-btn" onclick="playFactVideo()">üí° ’Ä’•’ø’°÷Ñ÷Ä÷Ñ’´÷Ä ÷É’°’Ω’ø</button>
                </div>

                <div id="quiz">
                    <p id="quiz-question"></p>
                    <div id="quiz-options"></div>
                </div>

                <div id="fact-display"></div>

                <section id="comments-section">
                    <h2>üìù ’Å’•÷Ä ’Ø’°÷Ä’Æ’´÷Ñ’∂’•÷Ä’®</h2>

                    <form class="comment-form" id="comment-form" onsubmit="submitComment(event)">
                        <div class="form-group">
                            <label for="comment-name">üë§ ‘±’∂’∏÷Ç’∂</label>
                            <input type="text" id="comment-name" required maxlength="50" placeholder="’Å’•÷Ä ’°’∂’∏÷Ç’∂’®">
                        </div>

                        <div class="form-group">
                            <label for="comment-text">üí¨ ‘ø’°÷Ä’Æ’´÷Ñ</label>
                            <textarea id="comment-text" required maxlength="500"
                                placeholder="‘ª’∂’π’∫’•’û’Ω ’ß ’±’•’¶ ’§’∏÷Ç÷Ä ’•’Ø’•’¨ Kargin Nyuton-’®..."></textarea>
                        </div>

                        <button type="submit" class="submit-btn">‚ú® ’Ä÷Ä’°’∫’°÷Ä’°’Ø’•’¨ ’Ø’°÷Ä’Æ’´÷Ñ</button>
                    </form>

                    <div id="comments-list"></div>
                </section>
            </main>

            <footer>
                &copy; 2025 ¬´Kargin Nyuton¬ª ‚Äî ‘≤’∏’¨’∏÷Ä ’´÷Ä’°’æ’∏÷Ç’∂÷Ñ’∂’•÷Ä’® ’∫’°’∑’ø’∫’°’∂’æ’°’Æ ’•’∂
            </footer>
        </div>
    </div>

    <script>
        window.addEventListener('DOMContentLoaded', function () {
            const welcomeScreen = document.getElementById('welcome-screen');
            const mainContent = document.querySelector('.main-content');

            setTimeout(function () {
                welcomeScreen.classList.add('hidden');
                setTimeout(function () {
                    welcomeScreen.remove();
                    mainContent.classList.add('active');
                    loadComments();
                }, 1000);
            }, 3000);
        });

        document.addEventListener('contextmenu', e => e.preventDefault());
        document.addEventListener('keydown', e => {
            if (e.key === "F12") e.preventDefault();
            if (e.ctrlKey && e.shiftKey && (e.key.toLowerCase() === "i" || e.key.toLowerCase() === "j")) e.preventDefault();
            if (e.ctrlKey && e.key.toLowerCase() === "u") e.preventDefault();
        });

        const quizQuestions = [
            { question: "’Ü’µ’∏÷Ç’ø’∏’∂’® ’´’∂’π’´ ’¢’´’¶’∂’•’Ω ’ß ’∏÷Ç’∂’•÷Å’•’¨, ’•÷Ä’¢ ’§’∫÷Ä’∏÷Å’∏÷Ç’¥ ’Ω’∏’æ’∏÷Ä’∏÷Ç’¥ ’ß÷Ä ’π’∏÷Ä÷Ä’∏÷Ä’§ ’§’°’Ω’°÷Ä’°’∂’∏÷Ç’¥?", options: ["‘≤’°’¨’´", "‘Ω’∂’±’∏÷Ä’´", "’è’°’∂’±’´"], answer: 1 },
            { question: "’à÷Ä÷Ñ’°’∂ ’ß ’°’¶’°’ø ’°’∂’Ø’¥’°’∂ ’°÷Ä’°’£’°÷Å’∏÷Ç’¥’® ‘µ÷Ä’Ø÷Ä’´ ’æ÷Ä’°?", options: ["10.5 m/s¬≤", "8.9 m/s¬≤", "9.8 m/s¬≤"], answer: 2 },
            { question: "’Ü’µ’∏÷Ç’ø’∏’∂’´ ’∏’û÷Ä ÷Ö÷Ä’•’∂÷Ñ’∂ ’ß ’∂’Ø’°÷Ä’°’£÷Ä’∏÷Ç’¥ ’∏÷Ç’™’® ÷á ’°÷Ä’°’£’∏÷Ç’©’µ’∏÷Ç’∂’®?", options: ["’Ü’µ’∏÷Ç’ø’∏’∂’´ ’•÷Ä÷Ä’∏÷Ä’§", "’Ü’µ’∏÷Ç’ø’∏’∂’´ ’•÷Ä’Ø÷Ä’∏÷Ä’§", "’Ü’µ’∏÷Ç’ø’∏’∂’´ ’°’º’°’ª’´’∂"], answer: 1 },
            { question: "‘ª’∂’π ’¢’°’∂’°’±÷á’∏’æ ’∞’°’∑’æ’æ’∏÷Ç’¥ ’ß ’°’∑’≠’°’ø’°’∂÷Ñ’® (Work)?", options: ["E = mc¬≤", "V = IR", "W = F*d*cosŒ∏"], answer: 2 },
            { question: "’à÷Ç’™’´ ’¥’´’ª’°’¶’£’°’µ’´’∂ ’¥’´’°’æ’∏÷Ä’® ’∏÷Ä’®’∂ ’ß:", options: ["Joule", "Newton", "Watt"], answer: 1 },
            { question: "’à÷Ä÷Ñ’°’∂ ’ß ’¨’∏÷Ç’µ’Ω’´ ’°÷Ä’°’£’∏÷Ç’©’µ’∏÷Ç’∂’® ’æ’°’Ø’∏÷Ç’∏÷Ç’¥?", options: ["‚âà 1,000 km/s", "‚âà 300,000 km/s", "‚âà 150,000 km/s"], answer: 1 }
        ];

        const funFacts = [
            "‘±’¨’¢’•÷Ä’ø ‘∑’µ’∂’∑’ø’•’µ’∂’® ÷É’∏÷Ñ÷Ä ’∞’°’Ω’°’Ø’∏÷Ç’¥ ’∏÷Ç’∑ ’≠’∏’Ω’•’¨ ’ß, ’¢’°’µ÷Å ’§’°÷Ä’±’°’æ ’¥’•’Æ ÷Ü’´’¶’´’Ø’∏’Ω÷â",
            "’Ü’µ’∏÷Ç’ø’∏’∂’∂ ’∞’°’µ’ø’∂’°’¢’•÷Ä’•’¨ ’ß ’Æ’°’∂÷Ä’∏÷Ç’©’µ’°’∂ ÷Ö÷Ä’•’∂÷Ñ’® üçé",
            "’Ñ’°÷Ä’´ ’î’µ’∏÷Ç÷Ä’´’∂ ’°’º’°’ª’´’∂ ’Ø’´’∂’∂ ’ß÷Ä’ù ’∏’æ ’Ω’ø’°÷Å’°’æ ’Ü’∏’¢’•’¨’µ’°’∂ ’¥÷Ä÷Å’°’∂’°’Ø ÷Ü’´’¶’´’Ø’°’µ’∏÷Ç’¥ ÷á ÷Ñ’´’¥’´’°’µ’∏÷Ç’¥÷â",
            "‘º’∏÷Ç’µ’Ω’´ ’°÷Ä’°’£’∏÷Ç’©’µ’∏÷Ç’∂’® ’æ’°’Ø’∏÷Ç’∏÷Ç’¥ c ‚âà 299,792,458 m/s ’ß",
            "‘µ÷Ä’Ø÷Ä’°’£’∂’§’´ ’£÷Ä’°’æ’´’ø’°÷Å’´’∏’∂ ’∏÷Ç’™’® ’Ø’°’≠’æ’°’Æ ’ß ’¶’°’∂’£’æ’°’Æ’∂’•÷Ä’´÷Å ÷á ’∞’•’º’°’æ’∏÷Ä’∏÷Ç’©’µ’∏÷Ç’∂’´÷Å F = G*(m1*m2)/r¬≤"
        ];

        let currentQuestion = 0;
        let correctCount = 0;
        let wrongCount = 0;
        let factInterval = null;

        function playMtiVideo() {
            const videoModal = document.createElement('div');
            videoModal.id = 'mti-video-modal';
            videoModal.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0, 0, 0, 0.95);
                display: flex;
                align-items: center;
                justify-content: center;
                z-index: 10000;
            `;

            const videoElement = document.createElement('video');
            videoElement.src = 'assets/Mti.MOV';
            videoElement.controls = true;
            videoElement.autoplay = true;
            videoElement.style.cssText = `
                max-width: 90%;
                max-height: 90%;
                border-radius: 1rem;
                box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
            `;

            videoModal.appendChild(videoElement);
            document.body.appendChild(videoModal);

            videoElement.onended = () => {
                videoModal.remove();
                window.open('https://www.instagram.com/vahansoghbatyan?igsh=MXgwaHZlZTJyOWR3aQ%3D%3D&utm_source=qr', '_blank');
            };

            videoElement.onerror = () => {
                console.warn('Mti.MOV could not be loaded');
                videoModal.remove();
                window.open('https://www.instagram.com/vahansoghbatyan?igsh=MXgwaHZlZTJyOWR3aQ%3D%3D&utm_source=qr', '_blank');
            };

            videoModal.onclick = (e) => {
                if (e.target === videoModal) {
                    videoModal.remove();
                }
            };
        }

        function playIntro() {
            document.querySelector('.start-btn').style.display = 'none';
            const main = document.querySelector('main');

            const introVideo = document.createElement('video');
            introVideo.src = "assets/Xax.MOV";
            introVideo.controls = true;
            introVideo.autoplay = true;
            main.appendChild(introVideo);

            introVideo.onended = () => {
                introVideo.remove();
                startGame();
            };

            introVideo.onerror = () => {
                console.warn('Xax.MOV could not be loaded');
                introVideo.remove();
                startGame();
            };
        }

        function startGame() {
            document.getElementById('quiz').style.display = 'block';
            currentQuestion = 0;
            correctCount = 0;
            wrongCount = 0;
            showQuestion();
        }

        function showQuestion() {
            const q = quizQuestions[currentQuestion];
            document.getElementById('quiz-question').innerText = q.question;
            const optionsDiv = document.getElementById('quiz-options');
            optionsDiv.innerHTML = '';

            const oldVideo = document.querySelector('#quiz video');
            if (oldVideo) oldVideo.remove();

            q.options.forEach((opt, i) => {
                const btn = document.createElement('button');
                btn.innerText = opt;
                btn.className = 'quiz-btn';
                btn.onclick = () => handleAnswer(i);
                optionsDiv.appendChild(btn);
            });
        }

        function handleAnswer(selected) {
            const q = quizQuestions[currentQuestion];
            const optionsDiv = document.getElementById('quiz-options');
            optionsDiv.querySelectorAll('button').forEach(btn => btn.disabled = true);

            let feedback = '';
            let videoFile = '';
            let waitForVideo = false;

            if (selected === q.answer) {
                feedback = `’É’´’∑’ø ’∫’°’ø’°’Ω’≠’°’∂! ‚úÖ\n’ä’°’ø’°’Ω’≠’°’∂’ù ${q.options[q.answer]}`;
                correctCount++;

                switch (currentQuestion) {
                    case 0: videoFile = "assets/Xndzor.MOV"; break;
                    case 1: videoFile = "assets/Maladec1.MOV"; break;
                    case 2: videoFile = "assets/Maladec2.MOV"; break;
                    case 3: videoFile = "assets/Maladec3.MOV"; break;
                    case 4: videoFile = "assets/Maladec4.MOV"; break;
                    case 5: videoFile = "assets/Maladec5.MOV"; break;
                }

                waitForVideo = !!videoFile;
            } else {
                wrongCount++;
                feedback = `’ç’≠’°’¨ ’∫’°’ø’°’Ω’≠’°’∂ ‚ùå\n’É’´’∑’ø ’∫’°’ø’°’Ω’≠’°’∂’ù ${q.options[q.answer]}`;

                if (wrongCount === 2) {
                    videoFile = "assets/Sxala.MOV";
                } else if (currentQuestion === 0) {
                    videoFile = "assets/Dasaran.MOV";
                } else if (currentQuestion === 3) {
                    videoFile = "assets/Sxala4.MOV";
                } else if (currentQuestion === 4) {
                    videoFile = "assets/Sxala5.MOV";
                } else if (currentQuestion === 5) {
                    videoFile = "assets/Sxala6.MOV";
                } else {
                    videoFile = "assets/Vata.MOV";
                }

                waitForVideo = true;
            }

            document.getElementById('quiz-question').innerText = feedback;

            if (waitForVideo && videoFile) {
                const video = document.createElement('video');
                video.src = videoFile;
                video.controls = true;
                video.autoplay = true;
                document.getElementById('quiz').appendChild(video);

                video.onended = () => {
                    currentQuestion++;
                    if (currentQuestion < quizQuestions.length) {
                        showQuestion();
                    } else {
                        showResults();
                    }
                };

                video.onerror = () => {
                    currentQuestion++;
                    if (currentQuestion < quizQuestions.length) {
                        showQuestion();
                    } else {
                        showResults();
                    }
                };
            } else {
                setTimeout(() => {
                    currentQuestion++;
                    if (currentQuestion < quizQuestions.length) {
                        showQuestion();
                    } else {
                        showResults();
                    }
                }, 2000);
            }
        }

        function showResults() {
            document.getElementById('quiz').style.display = 'none';
            alert(`üéâ ’é’´’Ø’ø’∏÷Ä’´’∂’°’∂ ’°’æ’°÷Ä’ø’æ’•÷Å!\n\n‚úÖ ’É’´’∑’ø ’∫’°’ø’°’Ω’≠’°’∂’∂’•÷Ä: ${correctCount}\n‚ùå ’ç’≠’°’¨ ’∫’°’ø’°’Ω’≠’°’∂’∂’•÷Ä: ${wrongCount}`);
            document.querySelector('.start-btn').style.display = 'block';
        }

        function playFactVideo() {
            const main = document.querySelector('main');

            if (factInterval) {
                clearInterval(factInterval);
                factInterval = null;
            }

            const oldVideo = document.querySelector('#fact-video');
            if (oldVideo) oldVideo.remove();

            const factDiv = document.getElementById('fact-display');
            factDiv.style.display = 'none';
            factDiv.innerText = '';

            const video = document.createElement('video');
            video.src = "assets/Lav.MOV";
            video.controls = true;
            video.autoplay = true;
            video.id = "fact-video";
            main.appendChild(video);

            video.onended = () => {
                video.remove();
                startFactCycle();
            };

            video.onerror = () => {
                console.warn('Lav.MOV could not be loaded');
                video.remove();
                startFactCycle();
            };
        }

        function startFactCycle() {
            showFact();
            factInterval = setInterval(showFact, 6000);
        }

        function showFact() {
            const fact = funFacts[Math.floor(Math.random() * funFacts.length)];
            const factDiv = document.getElementById('fact-display');
            factDiv.innerText = fact;
            factDiv.style.display = 'block';
        }

        function submitComment(event) {
            event.preventDefault();

            const name = document.getElementById('comment-name').value.trim();
            const text = document.getElementById('comment-text').value.trim();

            if (!name || !text) {
                alert('‚ùó ‘Ω’∂’§÷Ä’∏÷Ç’¥ ’•’∂÷Ñ ’¨÷Ä’°÷Å’∂’•’¨ ’¢’∏’¨’∏÷Ä ’§’°’∑’ø’•÷Ä’®÷â');
                return;
            }

            const pendingComment = {
                id: Date.now(),
                name: name,
                text: text,
                date: new Date().toISOString()
            };

            showCommentVideo(pendingComment);
        }

        function showCommentVideo(pendingComment) {
            const commentsSection = document.getElementById('comments-section');

            const videoContainer = document.createElement('div');
            videoContainer.id = 'comment-video-container';
            videoContainer.style.cssText = 'margin: 1.5rem 0; text-align: center;';

            const video = document.createElement('video');
            video.src = 'assets/Gir.MOV';
            video.controls = true;
            video.autoplay = true;

            videoContainer.appendChild(video);
            commentsSection.insertBefore(videoContainer, commentsSection.firstChild);

            video.onended = () => {
                videoContainer.remove();
                saveComment(pendingComment);
            };

            video.onerror = () => {
                console.warn('Gir.MOV could not be loaded');
                videoContainer.remove();
                saveComment(pendingComment);
            };
        }

        async function saveComment(comment) {
            try {
                const response = await fetch('/api/comments.php', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        action: 'add',
                        name: comment.name,
                        comment: comment.text
                    })
                });

                const data = await response.json();

                if (data.success) {
                    document.getElementById('comment-form').reset();
                    await loadComments();
                    document.getElementById('comments-list').scrollIntoView({ behavior: 'smooth' });
                } else {
                    alert('‚ùå ’ç’≠’°’¨’ù ' + (data.message || '‘ø’°÷Ä’Æ’´÷Ñ’® ’π’∞’°’ª’∏’≤’æ’•÷Å ’°’æ’•’¨’°÷Å’∂’•’¨'));
                }
            } catch (error) {
                console.error('’ç’≠’°’¨ ’¥’•’Ø’∂’°’¢’°’∂’∏÷Ç’©’µ’∏÷Ç’∂ ’°’æ’•’¨’°÷Å’∂’•’¨’´’Ω:', error);
                alert('‚ùå ’ç’•÷Ä’æ’•÷Ä’´ ’Ω’≠’°’¨÷â ’ì’∏÷Ä’±’•÷Ñ ’Ø÷Ä’Ø’´’∂÷â');
            }
        }

        async function getComments() {
            try {
                const response = await fetch('/api/comments.php');
                const data = await response.json();
                return data.success ? data.comments : [];
            } catch (error) {
                console.error('’ç’≠’°’¨ ’¥’•’Ø’∂’°’¢’°’∂’∏÷Ç’©’µ’∏÷Ç’∂’∂’•÷Ä ’¢’•’º’∂’•’¨’´’Ω:', error);
                return [];
            }
        }

        async function loadComments() {
            const comments = await getComments();
            const commentsList = document.getElementById('comments-list');

            if (comments.length === 0) {
                commentsList.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-state-icon">üí≠</div>
                        <div class="empty-state-text">‘±’º’°’ª’´’∂’® ’¨’´’∂’•÷Ñ, ’∏’æ ’Ø’°÷Ä’Æ’´÷Ñ ’Ø’©’∏’≤’∂’´</div>
                    </div>
                `;
                return;
            }

            commentsList.innerHTML = comments.map(comment => {
                const date = new Date(comment.date);
                const formattedDate = date.toLocaleDateString('hy-AM', {
                    year: 'numeric',
                    month: 'long',
                    day: 'numeric',
                    hour: '2-digit',
                    minute: '2-digit'
                });

                return `
                    <div class="comment-card" onclick="showDeleteButton(this, '${comment.id}')">
                        <div class="comment-author">${escapeHtml(comment.name)}</div>
                        <div class="comment-date">${formattedDate}</div>
                        <div class="comment-text">${escapeHtml(comment.comment)}</div>
                        <div class="comment-actions" style="display: none;">
                            <button class="delete-btn" onclick="event.stopPropagation(); deleteComment('${comment.id}')">üóëÔ∏è ’ã’∂’ª’•’¨</button>
                        </div>
                    </div>
                `;
            }).join('');
        }

        function showDeleteButton(card, commentId) {
            const actionsDiv = card.querySelector('.comment-actions');
            if (actionsDiv) {
                actionsDiv.style.display = actionsDiv.style.display === 'none' ? 'flex' : 'none';
            }
        }

        async function deleteComment(commentId) {
            const password = prompt('‘Ω’∂’§÷Ä’∏÷Ç’¥ ’•’∂÷Ñ ’¥’∏÷Ç’ø÷Ñ’°’£÷Ä’•’¨ ’£’°’≤’ø’∂’°’¢’°’º’®’ù');

            if (!password) {
                return;
            }

            try {
                const response = await fetch('/api/comments.php', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        action: 'delete',
                        id: commentId,
                        password: password
                    })
                });

                const data = await response.json();

                if (data.success) {
                    alert('‚úÖ ‘ø’°÷Ä’Æ’´÷Ñ’® ’∞’°’ª’∏’≤’∏÷Ç’©’µ’°’¥’¢ ’ª’∂’ª’æ’•÷Å');
                    await loadComments();
                } else {
                    alert('‚ùå ' + (data.message || '‘ø’°÷Ä’Æ’´÷Ñ’® ’π’∞’°’ª’∏’≤’æ’•÷Å ’ª’∂’ª’•’¨'));
                }
            } catch (error) {
                console.error('’ç’≠’°’¨ ’¥’•’Ø’∂’°’¢’°’∂’∏÷Ç’©’µ’∏÷Ç’∂ ’ª’∂’ª’•’¨’´’Ω:', error);
                alert('‚ùå ’ç’•÷Ä’æ’•÷Ä’´ ’Ω’≠’°’¨÷â ’ì’∏÷Ä’±’•÷Ñ ’Ø÷Ä’Ø’´’∂÷â');
            }
        }

        function escapeHtml(text) {
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }
    </script>
</body>

</html>